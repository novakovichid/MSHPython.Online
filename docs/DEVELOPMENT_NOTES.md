# Заметки о разработке

## Табуляция и перенос строк в редакторе
- Настройки "Таб" и "Перенос" скрыты из интерфейса.
- Значения зафиксированы: таб = 4, перенос выключен.
- Перенос строк отключён из-за нестабильной работы в текущем редакторе.

## Проблема с формами черепахи и фоном

### Наблюдаемое поведение
- Изображения загружаются в "Ресурсы" (видны файлы)
- `Screen().addshape("image.png")` вызывается без ошибок
- `turtle.shape("image.png")` вызывается без ошибок
- **НО:** черепаха не показывает форму из изображения, остаётся треугольником

### Анализ

#### Почему это не работает
Skulpt - это интерпретатор Python, скомпилированный в JavaScript. Его встроенная библиотека turtle графики имеет ограничения:

1. **Shape класс не поддерживает изображения по имени файла**
   - `Shape("image", "image.png")` создаёт объект, но не загружает изображение
   - Skulpt не знает как получить URL или данные файла

2. **Нет механизма связи между Python файловой системой и web ассетами**
   - Python код вызывает `turtle.shape("disco_ball.png")`
   - Но turtle graphics не знает где взять этот файл в браузере

3. **Это работает на trinket.io потому что:**
   - Trinket.io использует другую конфигурацию/версию Skulpt
   - Или у них есть кастомный код для загрузки изображений
   - Или они используют совсем другой механизм

#### Что было попробовано
1. Создание `Shape("image", name)` - не помогло, форма не загружается
2. Добавление `Sk.imageProxy` функции - требует работающего механизма загрузки
3. Сохранение строки вместо Shape объекта - turtle не знает что с ней делать

### Возможные решения

#### 1. Использовать координаты вместо изображений
```python
# Вместо:
turtle.shape("disco_ball.png")

# Использовать:
shape_coords = [(0,0), (10,10), (10,0)]  # Определить форму
turtle.shape(shape_coords)
```

#### 2. Загрузить изображение и преобразовать в координаты
Создать скрипт, который:
- Загружает PNG
- Трассирует контур
- Генерирует координаты
- Вставляет в Python код

#### 3. Создать кастомный механизм для turtle shapes
- Перехватить вызовы `turtle.shape()`
- Загрузить изображение из ассетов
- Преобразовать в что-то, что Skulpt может использовать

#### 4. Использовать другой подход рисования
- Вместо встроенной turtle
- Использовать canvas/SVG напрямую
- Полностью кастомное рисование

### Выводы
Это не ошибка в коде, а архитектурное ограничение Skulpt.
Для полной поддержки изображений нужна либо:
- Новая версия Skulpt с поддержкой
- Кастомный слой для работы с изображениями
- Другой подход к рисованию (не turtle)

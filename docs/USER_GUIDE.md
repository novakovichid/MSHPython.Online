# Руководство пользователя

## Обзор
MSHP-IDE — это статическая среда разработки Python, работающая полностью в браузере. Она запускает Python через Skulpt и предоставляет редактор файлов, консоль ввода/вывода и холст для графики Turtle. Все данные остаются в вашем браузере.

## Требования
- Современный браузер с поддержкой WebAssembly и Web Workers.
- Локальный или удаленный статический сервер (протокол `file://` не поддерживается).
- Поддерживаемые браузеры: Chrome, Chromium, Safari.
- Неподдерживаемые браузеры: Firefox и другие движки, отличные от Chromium/Safari.

## Быстрый старт
1. Запустите локальный сервер. Можно использовать `serve.bat` или любой статический сервер.
2. Откройте сайт в браузере.
3. Нажмите "Новый проект" (New project) и кнопку "Запуск" (Run).

## Обзор интерфейса
- **Главная страница**: создание нового проекта или открытие недавних.
- **Вид IDE**:
  - **Панель файлов (слева)**: создание, переименование, дублирование и удаление файлов.
  - **Редактор (в центре)**: код на Python с подсветкой синтаксиса.
  - **Консоль (снизу справа)**: вывод текста (stdout/stderr) и ввод данных.
  - **Холст Turtle (сверху справа)**: графический вывод и ввод для черепашки.

## Проекты и файлы
- Каждый проект содержит несколько файлов `.py`.
- Активный файл является точкой входа при нажатии кнопки "Запуск".
- Правила именования файлов:
  - Допустимые символы: A-Z, a-z, 0-9, точка, тире, подчеркивание.
  - Пример: `main.py`, `utils.py`.
- Лимиты:
  - Макс. количество файлов: 30.
  - Макс. размер файла: 50 КБ.
  - Макс. общий размер текста: 250 КБ.

## Выполнение кода
- "Запуск" (Run) выполняет активный файл как `__main__`.
- "Стоп" (Stop) прерывает выполнение путем перезапуска воркера.
- Вывод отображается в консоли. Ошибки подсвечиваются.
- Ввод данных (`input()`) поддерживается через поле ввода в консоли.
- Защитные механизмы:
  - Таймаут выполнения: 60 секунд.
  - Макс. размер вывода: 2 МБ (после этого вывод обрезается).

## Горячие клавиши

### Управление выполнением
- **F8** или **Alt+R** — Запустить код
- **Alt+X** — Остановить выполнение
- **Alt+C** — Очистить консоль

### Навигация между панелями
- **Alt+1** — Фокус на редактор кода
- **Alt+2** — Фокус на консоль (для ввода данных)
- **Alt+3** — Фокус на холст Turtle

### Редактор кода
- **Tab** — Отступ (добавить пробелы)
- **Alt+/** — Комментировать/Раскомментировать строку
- **Alt+↑** — Переместить строку вверх
- **Alt+↓** — Переместить строку вниз
- **Ctrl+D** — Дублировать строку
- **Ctrl+Shift+K** — Удалить строку
- **Ctrl+L** — Выделить текущую строку

Все горячие клавиши доступны в справке "Горячие клавиши" (кнопка в редакторе).

## Холст Turtle
- Графика Turtle отображается в соответствующей панели.
- Нажмите на холст, чтобы он перехватывал нажатия клавиш для событий Turtle.
- Черепашку можно перетаскивать мышью или касанием.
- Используйте ползунок скорости для настройки анимации.
- Нажмите "Очистить" (Clear), чтобы сбросить холст.

## Ссылки для шеринга (Снимки)
- "Поделиться" (Share) создает неизменяемую ссылку-снимок текущего проекта.
- Снимок по умолчанию доступен только для чтения.
- Вы можете редактировать его локально; правки сохраняются как черновик (draft).
- "Ремикс" (Remix) создает новый редактируемый проект на основе снимка.
- "Сброс" (Reset) удаляет локальные правки и возвращает снимок к исходному состоянию.
- Ограничения шеринга:
  - Без загруженных файлов (только исходный код).
  - Те же лимиты на размер, что указаны выше.

## Экспорт
- Доступны форматы JSON и ZIP.
- JSON включает файлы, закодированные в base64.
- ZIP включает файлы в виде стандартного архива.

## Режим встраивания (Embed)
- Используйте `#/embed` с параметрами запроса:
  - `display=side|output|toggle`
  - `mode=runOnly|consoleOnly|allowEither`
  - `autorun=1|0`
  - `readonly=1|0`

## Хранение и конфиденциальность
- Проекты сохраняются в IndexedDB вашего браузера.
- В режиме инкогнито хранилище может быть недоступно или не сохраняться после закрытия вкладки.
- При блокировке IndexedDB приложение переходит на хранение в оперативной памяти.

## Решение проблем
- Если приложение зависло на загрузке, обновите страницу один раз для настройки COI.
- Если шеринг не работает, уменьшите размер проекта или удалите большие файлы.
- Если ввод данных игнорируется, убедитесь, что поле ввода в консоли активно и в фокусе.
